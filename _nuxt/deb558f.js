(window.webpackJsonp=window.webpackJsonp||[]).push([[32,12,15,29],{632:function(e,t,r){var content=r(637);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(59).default)("6129112a",content,!0,{sourceMap:!1})},633:function(e,t,r){var content=r(639);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(59).default)("f0ad0d9a",content,!0,{sourceMap:!1})},634:function(e,t,r){r(635)},635:function(e,t,r){"use strict";var n=r(8),o=r(32),c=r(133),l=r(134),f=r(308),h=r(11),d=r(54),v=h("replace"),y=RegExp.prototype,x=Math.max,O=function(e,t,r){return r>e.length?-1:""===t?r:e.indexOf(t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,h,j,k,m,w,_,R=o(this),P=0,E=0,T="";if(null!=e){if((r=c(e))&&!~String(o("flags"in y?e.flags:l.call(e))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=e[v]))return n.call(e,R,t);if(d&&r)return String(R).replace(e,t)}for(h=String(R),j=String(e),(k="function"==typeof t)||(t=String(t)),m=j.length,w=x(1,m),P=O(h,j,0);-1!==P;)_=k?String(t(j,P,h)):f(j,h,P,[],void 0,t),T+=h.slice(E,P)+_,E=P+m,P=O(h,j,P+w);return E<h.length&&(T+=h.slice(E)),T}})},636:function(e,t,r){"use strict";r(632)},637:function(e,t,r){var n=r(58)((function(i){return i[1]}));n.push([e.i,"textarea[data-v-5311bda0]{\n  height:40px\n}",""]),n.locals={},e.exports=n},638:function(e,t,r){"use strict";r(633)},639:function(e,t,r){var n=r(58)((function(i){return i[1]}));n.push([e.i,".toc a[data-v-dfb99eda]{\n  --tw-text-opacity:1;\n  color:rgba(0, 0, 0, var(--tw-text-opacity))\n}\n.toc[data-v-dfb99eda]{\n  list-style-type:none;\n  margin-top:0.75rem;\n  margin-bottom:0.75rem\n}\n.toc2[data-v-dfb99eda]{\n  font-weight:700\n}\n.toc3[data-v-dfb99eda]{\n  margin-left:1.5rem\n}",""]),n.locals={},e.exports=n},641:function(e,t,r){"use strict";r.r(t);r(70);var n=r(23),o=r(36),c=r(34),l=r(35),f=r(19),h=r(13),d=(r(27),r(91),r(311),r(634),r(309),r(47),r(64),r(192),r(73),r(16));r(41),r(71),r(30),r(131);function v(e,t,r){var i,n,o;void 0===t&&(t=50),void 0===r&&(r={});var a=null!=(i=r.isImmediate)&&i,u=null!=(n=r.callback)&&n,c=r.maxWait,l=Date.now(),f=[];function h(){if(void 0!==c){var e=Date.now()-l;if(e+t>=c)return c-e}return t}var d=function(){var t=[].slice.call(arguments),r=this;return new Promise((function(i,n){var c=a&&void 0===o;if(void 0!==o&&clearTimeout(o),o=setTimeout((function(){if(o=void 0,l=Date.now(),!a){var i=e.apply(r,t);u&&u(i),f.forEach((function(e){return(0,e.resolve)(i)})),f=[]}}),h()),c){var d=e.apply(r,t);return u&&u(d),i(d)}f.push({resolve:i,reject:n})}))};return d.cancel=function(e){void 0!==o&&clearTimeout(o),f.forEach((function(t){return(0,t.reject)(e)})),f=[]},d}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var x=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},O=function(e){Object(c.a)(r,e);var t=y(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).doneTask=e.task,e.saveTaskDebounce=v((function(){return e.saveTask()}),100),e}return Object(o.a)(r,[{key:"taskTextarea",get:function(){return this.$refs["task-textarea"]}},{key:"isFillTheGapsExercise",get:function(){return this.exercise.exerciseText.startsWith("–í—Å—Ç–∞–≤—å—Ç–µ")||this.exercise.exerciseText.startsWith("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ")||this.exercise.exerciseText.startsWith("–†–∞—Å–∫—Ä–æ–π—Ç–µ —Å–∫–æ–±–∫–∏")}},{key:"doneTaskIsCorrect",get:function(){var e=this.doneTask.trim(),t=this.fullAnswer.replaceAll("<b>","").replaceAll("</b>","");return e.endsWith(".")&&!t.endsWith(".")&&(t+="."),!this.doneTask.endsWith(".")&&t.endsWith(".")&&(e+="."),e===t}},{key:"fullAnswer",get:function(){var e,t;return this.isFillTheGapsExercise?(e=function(e,t){if(e.split("").filter((function(e){return"_"===e})).length!==t.length)throw"–ö–æ–ª-–≤–æ _ –≤ {replacable} (".concat(e,") != –¥–ª–∏–Ω–µ –º–∞—Å—Å–∏–≤–∞ {arr} (").concat(t,")");var r="";return e.split("_").forEach((function(e,n){var o;return r+=e+(null!==(o=t[n])&&void 0!==o?o:"")})),r}(this.task,this.answer.split(",").map((function(a){return a.trim()})).map((function(a){return"<b>".concat(a,"</b>")})))).startsWith("<b>")&&(e="<b>".concat((t=e.slice("<b>".length)).charAt(0).toUpperCase()+t.substr(1))):e=this.answer,e=e.trim()}},{key:"mounted",value:function(){var e;this.taskTextarea.addEventListener("input",(function(){this.style.height="15px",this.style.height=(this.scrollHeight||40)+"px"})),this.showAnswer||this.taskTextarea.dispatchEvent(new Event("input")),this.doneTask=null!==(e=this.exerciseProgressRepo.tryGetTask(this.exercise.exerciseNumber,this.$vnode.key))&&void 0!==e?e:this.task}},{key:"onShowAnswer",value:function(){this.showAnswer||(this.taskTextarea.dispatchEvent(new Event("input")),this.doneTask=this.task)}},{key:"onDoneTaskChange",value:function(){this.saveTaskDebounce()}},{key:"saveTask",value:function(){this.exerciseProgressRepo.save(this.exercise.exerciseNumber,this.$vnode.key,this.doneTask)}}]),r}(d.Vue);x([Object(d.Prop)()],O.prototype,"exercise",void 0),x([Object(d.Prop)()],O.prototype,"task",void 0),x([Object(d.Prop)()],O.prototype,"answer",void 0),x([Object(d.InjectReactive)()],O.prototype,"exerciseProgressRepo",void 0),x([Object(d.Prop)({default:!1})],O.prototype,"showAnswer",void 0),x([Object(d.Watch)("showAnswer")],O.prototype,"onShowAnswer",null),x([Object(d.Watch)("doneTask")],O.prototype,"onDoneTaskChange",null);var j=O=x([Object(d.Component)({})],O),k=(r(636),r(18)),component=Object(k.a)(j,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"border rounded bg-white p-2 mb-2"},[r("div",{staticClass:"flex space-x-2"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.doneTask,expression:"doneTask"}],ref:"task-textarea",staticClass:"w-4/5 flex-grow",domProps:{value:e.doneTask},on:{input:function(t){t.target.composing||(e.doneTask=t.target.value)}}})]),e._v(" "),e.showAnswer?r("div",{class:[e.doneTaskIsCorrect?"text-green-400":"text-red-400"],domProps:{innerHTML:e._s(e.fullAnswer)}}):e._e()])}),[],!1,null,"5311bda0",null);t.default=component.exports},643:function(e,t,r){"use strict";r.r(t);r(70);var n=r(23),o=r(34),c=r(35),l=r(19),f=r(13),h=(r(27),r(16));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var v=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},y=function(e){Object(o.a)(r,e);var t=d(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(h.Vue);v([Object(h.Prop)({required:!0})],y.prototype,"toc",void 0);var x=y=v([Object(h.Component)({})],y),O=(r(638),r(18)),component=Object(O.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("–°–æ–¥–µ—Ä–∂–∏–º–æ–µ")]),e._v(" "),r("ul",e._l(e.toc,(function(link){return r("li",{key:link.id,class:["toc",2===link.depth?"toc2":"toc3"]},[r("NuxtLink",{attrs:{to:"#"+link.id},domProps:{innerHTML:e._s(link.text)}})],1)})),0)])}),[],!1,null,"dfb99eda",null);t.default=component.exports},652:function(e,t,r){"use strict";r.r(t);r(70);var n=r(23),o=r(36),c=r(34),l=r(35),f=r(19),h=r(13),d=(r(27),r(24),r(109),r(16)),v=r(21),y=r(88);r(71),r(41),r(72),r(90),r(42),r(31),r(30),r(53);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(v.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j=function(){function e(t){Object(n.a)(this,e),this._localStorage=t,this._doneExercisesKey="doneExercises"}return Object(o.a)(e,[{key:"doExercise",value:function(e){this._localStorage.setItem(this._doneExercisesKey,JSON.stringify([].concat(Object(y.a)(this._getDoneExercises()),[e])))}},{key:"undoExercise",value:function(e){this._localStorage.setItem(this._doneExercisesKey,JSON.stringify(Object(y.a)(this._getDoneExercises().filter((function(t){return t!==e})))))}},{key:"isExerciseDone",value:function(e){return this._getDoneExercises().includes(e)}},{key:"_getDoneExercises",value:function(){var e;return JSON.parse(null!==(e=this._localStorage.getItem(this._doneExercisesKey))&&void 0!==e?e:"[]")}}]),e}(),k=function(){function e(t){Object(n.a)(this,e),this._localStorage=t,this._keyPrefix="exercise_"}return Object(o.a)(e,[{key:"_buildKey",value:function(e){return"".concat(this._keyPrefix).concat(e)}},{key:"save",value:function(e,t,r){this._localStorage.setItem(this._buildKey(e),JSON.stringify(O(O({},this._tryGetTasks(e)),{},Object(v.a)({},t,r))))}},{key:"reset",value:function(e){this._localStorage.removeItem(this._buildKey(e))}},{key:"tryGetTask",value:function(e,t){return this._tryGetTasks(e)[t]}},{key:"_tryGetTasks",value:function(e){var t;return JSON.parse(null!==(t=this._localStorage.getItem(this._buildKey(e)))&&void 0!==t?t:"{}")}}]),e}();function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var w=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},_=function(e){Object(c.a)(r,e);var t=m(r);function r(){var e;return Object(n.a)(this,r),(e=t.apply(this,arguments)).opened=!0,e}return Object(o.a)(r,[{key:"created",value:function(){if(Object(h.a)(this.ex.tasks[0])!==Object(h.a)(this.answer.tasks[0]))throw"–ë–µ–¥–∞ –≤ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–∏ ‚Ññ ".concat(this.ex.exerciseNumber,": —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –æ—Ç–≤–µ—Ç–∞");if(this.ex.tasks.length!==this.answer.tasks.length)throw"–ë–µ–¥–∞ –≤ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–∏ ‚Ññ ".concat(this.ex.exerciseNumber,": –∫–æ–ª-–≤–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π != –∫–æ–ª-–≤–æ –æ—Ç–≤–µ—Ç–æ–≤")}},{key:"toggleExercise",value:function(e){document.getElementById(e.toString()).scrollIntoView(),this.ex.done?(this.exerciseProgressRepo.reset(e),this.ex.done=!1,this.doneExerciseRepo.undoExercise(e)):(this.ex.done=!0,this.doneExerciseRepo.doExercise(e))}},{key:"mounted",value:function(){this.exerciseProgressRepo=new k(localStorage),this.doneExerciseRepo=new j(localStorage),this.ex.done=this.doneExerciseRepo.isExerciseDone(this.ex.exerciseNumber),this.opened=!this.ex.done}}]),r}(d.Vue);w([Object(d.Prop)()],_.prototype,"ex",void 0),w([Object(d.Prop)()],_.prototype,"answer",void 0),w([Object(d.ProvideReactive)()],_.prototype,"exerciseProgressRepo",void 0);var R=_=w([Object(d.Component)({})],_),P=r(18),component=Object(P.a)(R,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.ex.rules?r("div",{staticClass:"italic whitespace-pre-line"},[e._v(e._s(e.ex.rules))]):e._e(),e._v(" "),r("details",{attrs:{open:e.opened}},[r("summary",[r("h3",{class:["inline-block",e.ex.done?"line-through":""],attrs:{id:e.ex.exerciseNumber}},[e._v("\n            –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ "+e._s(e.ex.exerciseNumber)+"\n          ")])]),e._v(" "),r("div",[r("div",{staticClass:"py-1 italic"},[e._v(e._s(e.ex.exerciseText))]),e._v(" "),e._l(e.ex.tasks,(function(t,n){return["object"==typeof t?[r("div",{staticClass:"py-1 italic"},[e._v(e._s(n+1+". "+(t.exerciseText||"")))]),e._v(" "),e._l(t.tasks,(function(t,o){return["object"==typeof t?[r("div",{staticClass:"py-1 italic"},[e._v(e._s("abcdef"[o]+") "+(t.exerciseText||"")))]),e._v(" "),e._l(t.tasks,(function(t,c){return[r("task-item",{key:n.toString()+o.toString()+c.toString(),attrs:{task:t,answer:e.answer.tasks[n].tasks[o].tasks[c],exercise:e.ex,"show-answer":e.ex.done}})]}))]:[r("task-item",{key:n.toString()+o.toString(),attrs:{task:t,answer:e.answer.tasks[n].tasks[o],exercise:e.ex,"show-answer":e.ex.done}})]]}))]:[r("task-item",{key:n,attrs:{task:t,answer:e.answer.tasks[n],exercise:e.ex,"show-answer":e.ex.done}})]]}))],2)]),e._v(" "),r("div",{staticClass:"flex justify-center"},[r("button",{staticClass:"w-full py-3",on:{click:function(t){return e.toggleExercise(e.ex.exerciseNumber)}}},[e.ex.done?r("span",[e._v("–ó–∞–Ω–æ–≤–æ üîÅ")]):r("span",[e._v("–ü—Ä–æ–≤–µ—Ä–∏—Ç—å ‚úîÔ∏è")])])])])}),[],!1,null,"0f195089",null);t.default=component.exports;installComponents(component,{TaskItem:r(641).default})},715:function(e,t,r){"use strict";r.r(t);r(70),r(42),r(31),r(30),r(53);var n=r(21),o=r(7),c=r(23),l=r(36),f=r(34),h=r(35),d=r(19),v=r(13),y=(r(46),r(27),r(310),r(47),r(41),r(16)),x=r(652);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var m=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},w=function(e){Object(f.a)(r,e);var t=k(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"exerciseInfo",get:function(){var e=this;return this.grammarExercisesToc.find((function(t){return t.slug===e.$route.params.slug}))}},{key:"toc",get:function(){return this.exercises.map((function(e){return{id:e.exerciseNumber,text:e.done?"<s>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ".concat(e.exerciseNumber,"</s>"):"–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ".concat(e.exerciseNumber),depth:2}}))}}]),r}(y.Vue),_=w=m([Object(y.Component)({components:{ExerciseItem:x.default},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$content,n=e.params,t.next=3,r("archive/eng/grammar-exercises-toc").fetch();case 3:return o=t.sent,t.next=6,r("archive/eng").fetch();case 6:return c=t.sent,l=c.filter((function(e){return e.slug===n.slug})).map((function(e){return j(j({},e),{},{done:!1})})),f=c.filter((function(e){return e.slug==="".concat(n.slug,"_answers")})),t.abrupt("return",{grammarExercisesToc:o,exercises:l,keys:f});case 10:case"end":return t.stop()}}),t)})))()},fetchOnServer:!1})],w),R=r(18),component=Object(R.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v(e._s(e.exerciseInfo.topic))]),e._v(" "),r("article-toc",{attrs:{toc:e.toc}}),e._v(" "),e._l(e.exercises,(function(t,n){return[r("exercise-item",{key:t.exerciseNumber,attrs:{ex:t,answer:e.keys[n]}}),e._v(" "),r("hr")]}))],2)}),[],!1,null,"66141107",null);t.default=component.exports;installComponents(component,{ArticleToc:r(643).default,ExerciseItem:r(652).default})}}]);