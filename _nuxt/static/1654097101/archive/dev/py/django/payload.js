__NUXT_JSONP__("/archive/dev/py/django", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap){return {data:[{page:{slug:T,description:"Произошел врыв в Django в 2021, начинают появляться заметочки, рецептики, хочется иметь их все в одном месте",title:"Django-заметки",toc:[{id:U,depth:G,text:V},{id:W,depth:G,text:X},{id:Y,depth:3,text:Z},{id:_,depth:G,text:$}],body:{type:"root",children:[{type:b,tag:"h1",props:{id:"testirovanie"},children:[{type:b,tag:r,props:{href:"#%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5",ariaHidden:B,tabIndex:C},children:[{type:b,tag:c,props:{className:[D,E]},children:[]}]},{type:a,value:"Тестирование"}]},{type:a,value:f},{type:b,tag:H,props:{id:U},children:[{type:b,tag:r,props:{href:"#%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B4%D0%B0%D1%82",ariaHidden:B,tabIndex:C},children:[{type:b,tag:c,props:{className:[D,E]},children:[]}]},{type:a,value:V}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"В респонсе дата приходит в виде строки, в drf-формате, типа такой:"}]},{type:a,value:f},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v,aa]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"2022-02-08T13:35:47.680868+03:00\n"}]}]}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Для приведения даты к drf-строке используй:"}]},{type:a,value:f},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v,y]},children:[{type:b,tag:j,props:{},children:[{type:a,value:I},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"date"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Пример:"}]},{type:a,value:f},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v,y]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:z}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:"Item"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"\n  \n"},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:z}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:"ItemSerializer"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"ModelSerializer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:z}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:" Item\n    fields "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,ah]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"\n\nitem "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:" Item"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"\n\ndata "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:" ItemSerializer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"data\n\nself"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"assertEqual"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"\n  data"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:" \n  "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"{"}]},{type:b,tag:c,props:{className:[d,ah]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"}"}]},{type:a,value:al}]}]}]},{type:a,value:f},{type:b,tag:"hr",props:{},children:[]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Аналогично для типов, которые при сериализации переводятся в особую строку, стоит использовать метод "},{type:b,tag:j,props:{},children:[{type:a,value:J}]},{type:a,value:h}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Напр. для Decimal: "},{type:b,tag:j,props:{},children:[{type:a,value:"DecimalField(max_digits=..., decimal_places=...).to_representation(decimal_)"}]}]},{type:a,value:f},{type:b,tag:H,props:{id:W},children:[{type:b,tag:r,props:{href:"#%D0%B3%D0%B5%D0%BD%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D1%82%D0%B5%D1%81%D1%82%D0%BE%D0%B2%D1%8B%D1%85-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85",ariaHidden:B,tabIndex:C},children:[{type:b,tag:c,props:{className:[D,E]},children:[]}]},{type:a,value:X}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Используем "},{type:b,tag:r,props:{href:"https:\u002F\u002Ffactoryboy.readthedocs.io\u002Fen\u002Fstable\u002Findex.html",rel:[L,M,N],target:O},children:[{type:a,value:am}]}]},{type:a,value:f},{type:b,tag:"h3",props:{id:Y},children:[{type:b,tag:r,props:{href:"#%D0%B3%D0%B5%D0%BD%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D1%82%D0%B5%D1%81%D1%82%D0%BE%D0%B2%D1%8B%D1%85-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%B2-%D0%B2%D0%B8%D0%B4%D0%B5-%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D0%B5%D0%B9",ariaHidden:B,tabIndex:C},children:[{type:b,tag:c,props:{className:[D,E]},children:[]}]},{type:a,value:Z}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Для простых объектов тоже используем "},{type:b,tag:r,props:{href:"https:\u002F\u002Ffactoryboy.readthedocs.io\u002Fen\u002Fstable\u002Frecipes.html#converting-a-factory-s-output-to-a-dict",rel:[L,M,N],target:O},children:[{type:a,value:am}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v,aa]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"factory.build(dict, FACTORY_CLASS=UserFactory)\n"}]}]}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Для непростых объектов (с вложенными сущностями) - проследуйте на "},{type:b,tag:r,props:{href:"https:\u002F\u002Fstackoverflow.com\u002Fa\u002F66596431\u002F5500609",rel:[L,M,N],target:O},children:[{type:a,value:"стек"}]}]},{type:a,value:f},{type:b,tag:H,props:{id:_},children:[{type:b,tag:r,props:{href:"#%D0%B5%D1%89%D0%B5-%D0%BE-%D0%B4%D0%B0%D1%82%D0%B0%D1%85",ariaHidden:B,tabIndex:C},children:[{type:b,tag:c,props:{className:[D,E]},children:[]}]},{type:a,value:$}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Допустим, есть сущность с полем - "},{type:b,tag:j,props:{},children:[{type:a,value:w}]},{type:a,value:" - датой создания объекта, которая проставляется автоматически при первом сохранении в бд:"}]},{type:a,value:f},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v,y]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:z}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:"Note"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"models"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n  text "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"CharField"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"auto_now_add"},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,"boolean"]},children:[{type:a,value:"True"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"И мы хотим генерировать тестовые сущности, но с определенной датой:"}]},{type:a,value:f},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v,y]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:z}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:"NoteFactory"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"factory"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"DjangoModelFactory"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:z}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:" Note\n    \n    \ntest_note "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"У "},{type:b,tag:j,props:{},children:[{type:a,value:"test_note"}]},{type:a,value:" поле "},{type:b,tag:j,props:{},children:[{type:a,value:w}]},{type:a,value:" будет равняться не "},{type:b,tag:j,props:{},children:[{type:a,value:"dt.datetime(2022, 2, 14)"}]},{type:a,value:", а текущей, потому что "},{type:b,tag:j,props:{},children:[{type:a,value:"auto_now_add=True"}]}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Чтобы была возможность указывать произвольное значение поля "},{type:b,tag:j,props:{},children:[{type:a,value:w}]},{type:a,value:", нужно использовать "},{type:b,tag:j,props:{},children:[{type:a,value:"default=timezone.now"}]},{type:a,value:o}]},{type:a,value:f},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v,y]},children:[{type:b,tag:j,props:{},children:[{type:a,value:ao},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"default"},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:"timezone"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:"Тогда, если не указывать "},{type:b,tag:j,props:{},children:[{type:a,value:w}]},{type:a,value:", то оно заполнится текущей датой, а если указывать, то оно будет таким, каким хотим:"}]},{type:a,value:f},{type:b,tag:s,props:{className:[t]},children:[{type:b,tag:u,props:{className:[v,y]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"test_note "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:l}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"\n\n"},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"assert"}]},{type:a,value:" test_note"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"=="}]},{type:a,value:" dt"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:al}]}]}]}]},dir:"\u002Farchive\u002Fdev\u002Fpy",path:"\u002Farchive\u002Fdev\u002Fpy\u002Fdjango",extension:".md",createdAt:ap,updatedAt:ap}}],fetch:{},mutations:[]}}("text","element","span","token","punctuation","\n","(",".",")","code","operator","="," ","p",":",",","number","a","div","nuxt-content-highlight","pre","line-numbers","created","keyword","language-python","class","class-name","true",-1,"icon","icon-link","datetime",2,"h2","DateTimeField","to_representation","dt","nofollow","noopener","noreferrer","_blank"," models","2022","2","14","django","testirovanie-dat","Тестирование дат","generaciya-testovyh-dannyh","Генерация тестовых данных","generaciya-testovyh-dannyh-v-vide-slovarey","Генерация тестовых данных в виде словарей","eshche-o-datah","Еще о датах","language-text","Model","\n  created "," DateTimeField","\n  ","Meta","\n    model ","string","'created'","now","item"," \n","factory-boy"," NoteFactory","created ","2022-06-01T15:22:47.338Z")));